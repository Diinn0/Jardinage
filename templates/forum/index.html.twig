{% extends 'base.html.twig' %}

{% block title %}Hello ForumController!{% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>

<div class="example-wrapper">
    {% if parentCategory is defined %}
        <p>Liste des sujets</p>
    {% endif %}

    {% for category in categories %}
            {% if category.mainCategory == null %}
                <p>{{ category.title }}</p>
            {% endif %}
            {% set subCategories = category.subCategories.unwrap() %}
            {% for subCategory in subCategories %}
               <li><a href="{{ path('showCategory') }}/{{ subCategory.id }}">{{ subCategory.title }}</a></li>
            {% endfor %}
    {% endfor %}

    {% if parentCategory is defined %}
        {% for comment in parentCategory.comments.unwrap() %}
            <li><a href="{{ path('showPost') }}/{{ comment.id }}">{{ comment.title }}</a></li>
        {% endfor %}
    {% endif %}

</div>
{% endblock %}
